2025-08-26 12:09:42 +0000 [info]: init supervisor logger path=nil rotate_age=nil rotate_size=nil
2025-08-26 12:09:42 +0000 [info]: parsing config file is succeeded path="/fluentd/etc/fluent.conf"
2025-08-26 12:09:42 +0000 [info]: gem 'fluentd' version '1.16.3'
2025-08-26 12:09:42 +0000 [info]: gem 'fluent-plugin-loki' version '0.3.0'
2025-08-26 12:09:42 +0000 [info]: using configuration file: <ROOT>
  <source>
    @type forward
    @id input_forward
    port 24224
    bind "0.0.0.0"
  </source>
  <filter **>
    @type record_transformer
    enable_ruby true
    <record>
      host ${record["host"] || "unknown_host_from_fluentd"}
    </record>
  </filter>
  <match **>
    @type loki
    @id output_loki
    endpoint_url "http://loki:3100/loki/api/v1/push"
    <label>
      host ${record["host"]}
      container_name ${record["container_name"]}
      stream ${record["stream"]}
    </label>
    <buffer>
      @type "file"
      path "/fluentd/log/buffer/loki"
      flush_interval 10s
      chunk_limit_size 2M
      queue_limit_length 8
      retry_max_interval 30
      retry_forever true
    </buffer>
  </match>
  <label @FLUENT_LOG>
    <match fluent.*>
      @type stdout
      @id output_fluent_log
    </match>
  </label>
</ROOT>
2025-08-26 12:09:42 +0000 [info]: starting fluentd-1.16.3 pid=7 ruby="3.1.4"
2025-08-26 12:09:42 +0000 [info]: spawn command to main:  cmdline=["/usr/bin/ruby", "-Eascii-8bit:ascii-8bit", "/usr/bin/fluentd", "--config", "/fluentd/etc/fluent.conf", "--plugin", "/fluentd/plugins", "--under-supervisor"]
2025-08-26 12:09:43 +0000 [info]: #0 init worker0 logger path=nil rotate_age=nil rotate_size=nil
2025-08-26 12:09:43 +0000 [info]: adding match in @FLUENT_LOG pattern="fluent.*" type="stdout"
2025-08-26 12:09:43 +0000 [info]: adding filter pattern="**" type="record_transformer"
2025-08-26 12:09:43 +0000 [info]: adding match pattern="**" type="loki"
2025-08-26 12:09:43 +0000 [info]: adding source type="forward"
2025-08-26 12:09:43 +0000 [warn]: section <label> is not used in <match **> of loki plugin
2025-08-26 12:09:43 +0000 [warn]: section <label> is not used in <match **> of loki plugin
2025-08-26 12:09:43 +0000 [warn]: section <label> is not used in <match **> of loki plugin
2025-08-26 12:09:43 +0000 [info]: #0 starting fluentd worker pid=16 ppid=7 worker=0
2025-08-26 12:09:43 +0000 [info]: #0 [input_forward] listening port port=24224 bind="0.0.0.0"
2025-08-26 12:09:43 +0000 [info]: #0 fluentd worker is now running worker=0
2025-08-26 12:09:43.487535743 +0000 fluent.warn: {"message":"section <label> is not used in <match **> of loki plugin"}
2025-08-26 12:09:43.487627983 +0000 fluent.warn: {"message":"section <label> is not used in <match **> of loki plugin"}
2025-08-26 12:09:43.487650998 +0000 fluent.warn: {"message":"section <label> is not used in <match **> of loki plugin"}
2025-08-26 12:09:43.487678353 +0000 fluent.info: {"pid":16,"ppid":7,"worker":0,"message":"starting fluentd worker pid=16 ppid=7 worker=0"}
2025-08-26 12:09:43.492762420 +0000 fluent.info: {"port":24224,"bind":"0.0.0.0","message":"[input_forward] listening port port=24224 bind=\"0.0.0.0\""}
2025-08-26 12:09:43.493786341 +0000 fluent.info: {"worker":0,"message":"fluentd worker is now running worker=0"}
